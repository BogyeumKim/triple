<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>회원가입</title>
</head>
<body>

    유저 아이디 : <input type="text"  id="regUserId">
    </br>
    유저 비번 : <input type="text" id="regUserPw">
    </br>
    유저 닉넴 : <input type="text" id="regUserNick">
    </br>
    <button type="button" id="subBtn">회원 가입</button>

</body>
<script>

  const subBtn = document.getElementById("subBtn");
  subBtn.addEventListener("click",registerFetch);

  function registerFetch(){
      const user_id = document.getElementById("regUserId").value;
      const user_pw = document.getElementById("regUserPw").value;
      const user_nick = document.getElementById("regUserNick").value;
      const url = '/member/';
      const data = JSON.stringify({user_id,user_pw,user_nick});
      console.log(data)
      fetch(url,{method : "POST" , body:data,headers:{'Content-Type': 'application/json'}})
            .then( response =>{
                response.status === 201 ? alert("회원가입 완료!") : alert("회원가입 실패ㅠ")
              console.log(response)
            }).catch(error => console.error(error))

  }

</script>
</html>